<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>個体登録 | Guide to Humans</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { background-color: #0d1117; color: #e6edf3; }
        .emerald-border { border-color: #10b981; }
        .tag-selected { background-color: #10b981; color: white; border-color: #10b981; }
    </style>
</head>
<body class="p-6 max-w-md mx-auto">
    <header class="mb-8 flex items-center gap-4">
        <button onclick="location.href='index.html'" class="text-emerald-400 font-bold">← 戻る</button>
        <h2 class="text-xl font-bold">新種個体の登録</h2>
    </header>

    <main class="space-y-6">
        <!-- ニックネーム -->
        <section>
            <label class="block text-sm font-medium text-emerald-400 mb-2">個体のニックネーム</label>
            <input type="text" id="nickname" placeholder="例：朝の機嫌が悪い大臣"
                class="w-full bg-gray-900 border emerald-border rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-emerald-500 placeholder-gray-600">
        </section>

        <!-- 属性タグ -->
        <section>
            <label class="block text-sm font-medium text-emerald-400 mb-2">検知された属性（複数選択可）</label>
            <div id="tag-container" class="flex flex-wrap gap-2">
                <!-- JavaScriptでタグを生成 -->
            </div>
        </section>

        <!-- エピソード -->
        <section>
            <label class="block text-sm font-medium text-emerald-400 mb-2">具体的なバグ（行動）エピソード</label>
            <textarea id="episode" rows="4" placeholder="いつ、どんなバグが発生したか記述せよ..."
                class="w-full bg-gray-900 border emerald-border rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-emerald-500 placeholder-gray-600"></textarea>
        </section>

        <!-- 解析ボタン -->
        <button onclick="analyzeHuman()" class="w-full py-4 bg-emerald-600 hover:bg-emerald-500 text-white font-bold rounded-xl shadow-lg transition-all active:scale-95 text-lg">
            解析（攻略アドバイス）を開始する
        </button>
    </main>

    <script>
        const tags = ["音量バグ", "要約禁止", "正論パンチ", "低気圧に弱い", "褒め殺し弱点", "空腹暴走", "レアキャラ", "充電切れ", "夜行性", "社交的", "内向的", "感情豊か", "クール", "天然", "ツンデレ", "マイペース", "せっかち", "のんびり屋"];
        const selectedTags = new Set();

        const container = document.getElementById('tag-container');
        tags.forEach(tag => {
            const btn = document.createElement('button');
            btn.textContent = tag;
            btn.className = "px-3 py-1.5 rounded-full border border-emerald-500/50 text-xs transition-colors hover:border-emerald-500";
            btn.onclick = () => {
                btn.classList.toggle('tag-selected');
                selectedTags.has(tag) ? selectedTags.delete(tag) : selectedTags.add(tag);
            };
            container.appendChild(btn);
        });

        function analyzeHuman() {
    const nickname = document.getElementById('nickname').value;
    const selectedArray = Array.from(selectedTags);
    
    if(!nickname || selectedArray.length === 0) return alert("ニックネームと属性を1つ以上選ぶのだ！");

    // バケツにデータを入れる（localStorage）
    localStorage.setItem('gth_nickname', nickname);
    localStorage.setItem('gth_tag', selectedArray[0]); // 最初の一つを解析対象にする

    location.href = 'result.html'; 
}

    </script>
</body>
</html>
