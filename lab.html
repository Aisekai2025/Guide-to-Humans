<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ãƒ¢ãƒ¤ã£ã¨ãƒ»ãƒ©ãƒœ | Guide to Humans</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* ç”»é¢å…¨ä½“ã®é«˜ã•ã‚’ã‚¹ãƒãƒ›ã®è¡¨ç¤ºé ˜åŸŸï¼ˆ100dvhï¼‰ã«å›ºå®š */
        body { 
            background-color: #0d1117; 
            color: #e6edf3; 
            font-family: sans-serif; 
            height: 100dvh; /* å‹•çš„ãƒ“ãƒ¥ãƒ¼ãƒãƒ¼ãƒˆå˜ä½ */
            margin: 0;
            display: flex;
            flex-direction: column;
            overflow: hidden; 
        }

        /* ãƒãƒ£ãƒƒãƒˆã‚¨ãƒªã‚¢ï¼šflex-growã§æ®‹ã‚Šã®é«˜ã•ã‚’ã™ã¹ã¦ä½¿ã„ã€å†…éƒ¨ã ã‘ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã•ã›ã‚‹ */
        .chat-container { 
            flex-grow: 1; 
            overflow-y: auto; 
            -webkit-overflow-scrolling: touch; /* iOSã§ã®ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚’æ»‘ã‚‰ã‹ã« */
        }

        .bubble-left {
            background: #21262d;
            border: 1px solid #30363d;
            border-radius: 18px 18px 18px 2px;
        }

        .bubble-right {
            background: #065f46;
            border-radius: 18px 18px 2px 18px;
        }

        /* ã‚³ãƒãƒ³ãƒ‰ãƒ‘ãƒãƒ«ï¼šä¸‹éƒ¨ã«å›ºå®šã€‚flex-shrink:0ã§ã¯ã¿å‡ºã—ã‚’é˜²ã */
        .command-panel {
            flex-shrink: 0;
            background: rgba(13, 17, 23, 0.98);
            backdrop-filter: blur(10px);
            border-top: 1px solid rgba(16, 185, 129, 0.3);
            padding-bottom: env(safe-area-inset-bottom); /* iPhoneã®ãƒãƒ¼å¯¾ç­– */
        }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes bounceIn { 0% { opacity: 0; transform: scale(0.9); } 70% { transform: scale(1.05); } 100% { opacity: 1; transform: scale(1); } }
        .animate-fade-in { animation: fadeIn 0.3s ease-out forwards; }
        .animate-bounce-in { animation: bounceIn 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards; }
    </style>
</head>
<body class="max-w-md mx-auto border-x border-gray-800">

    <header class="flex-shrink-0 p-4 border-b border-gray-800 flex items-center justify-between bg-gray-900/50">
        <button onclick="location.href='index.html'" class="text-gray-400 text-sm font-bold">Ã— ä¸­æ­¢</button>
        <div class="text-center">
            <p id="target-name" class="font-bold text-xs text-white">ã‚¹ã‚­ãƒ£ãƒ³ä¸­...</p>
            <p id="target-tags" class="text-[9px] text-emerald-500 font-mono italic">---</p>
        </div>
        <div class="w-8 h-8 rounded-full bg-purple-900/50 border border-purple-500 flex items-center justify-center text-xs">ğŸ§ª</div>
    </header>

    <main id="chat-box" class="chat-container p-4 space-y-4">
        <div class="flex justify-center">
            <p class="text-[9px] bg-gray-800 text-gray-400 px-3 py-1 rounded-full uppercase tracking-widest">Simulation Started</p>
        </div>
        
        <div class="flex items-start gap-2 animate-bounce-in">
            <div class="w-8 h-8 rounded-full bg-gray-700 flex-shrink-0 flex items-center justify-center text-sm">ğŸ‘¤</div>
            <div class="bubble-left p-3 text-sm max-w-[80%] shadow-lg">
                ã€Œãˆã€ã¾ã ãã®ä½œæ¥­çµ‚ã‚ã£ã¦ãªã„ã®ï¼Ÿ ç§ãªã‚‰5åˆ†ã§çµ‚ã‚ã‚‹ã‘ã©ãªãâ€¦ï¼ˆç¬‘ï¼‰ã€
            </div>
        </div>
    </main>

    <section class="command-panel p-4 space-y-3">
        <p class="text-[9px] text-emerald-500 font-bold uppercase tracking-tighter text-center mb-1">Select Counter Protocol</p>
        <div class="grid grid-cols-2 gap-2">
            <button onclick="sendReply('åŒèª¿', 'åŒèª¿ãƒ—ãƒ­ãƒˆã‚³ãƒ«')" class="bg-gray-800 border border-emerald-500/30 py-2.5 rounded-xl text-xs font-bold hover:bg-emerald-900/20 active:scale-95 transition-all">
                ğŸ¤ åŒèª¿
            </button>
            <button onclick="sendReply('è«–ç†', 'è«–ç†ãƒãƒªã‚¢')" class="bg-gray-800 border border-blue-500/30 py-2.5 rounded-xl text-xs font-bold hover:bg-blue-900/20 active:scale-95 transition-all">
                ğŸ›¡ï¸ è«–ç†
            </button>
            <button onclick="sendReply('è¤’ã‚', 'è¤’ã‚æ®ºã—ãƒœãƒ ')" class="bg-gray-800 border border-yellow-500/30 py-2.5 rounded-xl text-xs font-bold hover:bg-yellow-900/20 active:scale-95 transition-all">
                ğŸ’£ è¤’ã‚æ®ºã—
            </button>
            <button onclick="sendReply('è„±å‡º', 'ç·Šæ€¥è„±å‡º')" class="bg-gray-800 border border-red-500/30 py-2.5 rounded-xl text-xs font-bold hover:bg-red-900/20 active:scale-95 transition-all">
                ğŸš€ ç·Šæ€¥è„±å‡º
            </button>
        </div>
    </section>

    </body>
</html>

    <script>
// --- 1. å·¨å¤§ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ï¼ˆçŸ¥èƒ½çµ±åˆç‰ˆï¼ï¼‰ ---
const simulationEngine = {
    patterns: {
        // --- åŸºæœ¬ãƒ»ç‰¹æ®Šä»•æ§˜ç³» ---
        "æ­£è«–ãƒ‘ãƒ³ãƒ": { base: "ã€Œãã‚Œã€æ„Ÿæƒ…è«–ã§ã™ã‚ˆã­ï¼Ÿæ•°å­—ã§è©±ã—ã¦ã‚‚ã‚‰ãˆã¾ã›ã‚“ã‹ï¼Ÿã€", reactions: { "åŒèª¿": "ã€Œè©±ãŒæ—©ãã¦åŠ©ã‹ã‚Šã¾ã™ãªã€‚åŠ¹ç‡ã‚’ä¸Šã’ã¾ã—ã‚‡ã†ã€‚ã€", "è«–ç†": "ã€Œãã®ãƒ‡ãƒ¼ã‚¿ã®ã‚½ãƒ¼ã‚¹ã€å¤ããªã„ã§ã™ã‹ï¼Ÿï¼ˆã•ã‚‰ã«è¢«ã›ã¦ããŸï¼ï¼‰ã€", "è¤’ã‚": "ã€Œâ€¦ã¾ãã€äº‹å®Ÿã‚’è¨€ã£ãŸã¾ã§ã§ã™ãã€‚ï¼ˆå°‘ã—ç«åŠ›ãŒè½ã¡ãŸï¼ï¼‰ã€", "è„±å‡º": "ã€Œé€ƒã’ã‚‹ã®ã‚‚éåŠ¹ç‡çš„ã§ã™ãªã€‚ã€" }},
        "ãƒ„ãƒ³ãƒ‡ãƒ¬": { base: "ã€Œåˆ¥ã«ã€ã‚ã‚“ãŸã®ãŸã‚ã«ã‚„ã£ãŸã‚“ã˜ã‚ƒãªã„ã‹ã‚‰ã­ï¼å‹˜é•ã„ã—ãªã„ã§ã‚ˆï¼ã€", reactions: { "åŒèª¿": "ã€Œãªã€ä½•ã‚ˆç´ ç›´ã«èªã‚ã¡ã‚ƒã£ã¦â€¦èª¿å­ç‹‚ã†ã‚ã­ã€‚ã€", "è«–ç†": "ã€Œç†å±ˆã˜ã‚ƒãªã„ã®ã‚ˆï¼ã‚‚ã†ã€ãƒã‚«ã˜ã‚ƒãªã„ã®ï¼ï¼Ÿã€", "è¤’ã‚": "ã€Œãµã€ãµã‚“ã£ï¼â€¦ï¼ˆé¡”ãŒèµ¤ããªã£ã¦ã„ã‚‹ã‚ˆã†ã ï¼‰ã€", "è„±å‡º": "ã€Œã¡ã‚‡ã£ã¨ï¼ã©ã“è¡Œãã®ã‚ˆï¼è©±ã¯çµ‚ã‚ã£ã¦ãªã„ã‚ã‚ˆï¼ã€" }},
        "å¤©ç„¶": { base: "ã€Œã‚ã€ã•ã£ãã®è³‡æ–™ã€ã‚·ãƒ¥ãƒ¬ãƒƒãƒ€ãƒ¼ã˜ã‚ƒãªãã¦å†·è”µåº«ã«å…¥ã‚Œã¡ã‚ƒã„ã¾ã—ãŸï¼ã€", reactions: { "åŒèª¿": "ã€Œå†·ãˆå†·ãˆã®ãƒ‡ãƒ¼ã‚¿ã§ã™ãªï¼ã‚ã‹ã‚Šã¾ã™ãï¼ã€", "è«–ç†": "ã€Œãˆã£ã€å†·è”µåº«ã®ã»ã†ãŒä¿å­˜çŠ¶æ…‹ãŒã„ã„ã‹ãªã£ã¦â€¦ã€", "è¤’ã‚": "ã€Œã‚ãã€è¤’ã‚ã‚‰ã‚Œã¡ã‚ƒã£ãŸï¼ç§ã£ã¦å¤©æ‰ã‹ã‚‚ï¼ã€", "è„±å‡º": "ã€Œã‚ã€ãƒãƒŠãƒŠè²·ã„ã«è¡Œãã®å¿˜ã‚Œã¦ãŸï¼ã€" }},
        "ãƒ©ã‚¹ãƒœã‚¹æ„Ÿ": { base: "ã€Œâ€¦â€¦ã§ã€å›ã¯çµå±€ã€ä½•ãŒè¨€ã„ãŸã„ã‚“ã ã­ï¼Ÿï¼ˆå¨åœ§æ„Ÿï¼‰ã€", reactions: { "åŒèª¿": "ã€Œã»ã†ã€ç§ã®æ„å›³ã‚’ç†è§£ã—ã¦ã„ã‚‹ã¨ã„ã†ã‚ã‘ã‹ã€‚ã€", "è«–ç†": "ã€Œé¢ç™½ã„ã€‚ãã®è«–ç†ã€æœ€å¾Œã¾ã§èã‹ã›ã¦ã‚‚ã‚‰ãŠã†ã‹ã€‚ã€", "è¤’ã‚": "ã€ŒãŠä¸–è¾ã¯ã„ã„ã€‚æœ¬é¡Œã«å…¥ã‚ŠãŸã¾ãˆã€‚ã€", "è„±å‡º": "ã€Œâ€¦â€¦ï¼ˆæ²ˆé»™ãŒä¸€ç•ªæ€–ã„ï¼ï¼‰ã€" }},
        "ãƒ¬ã‚¢ã‚­ãƒ£ãƒ©": { base: "ã€Œï¼ˆ3ãƒ¶æœˆã¶ã‚Šã«ç¾ã‚Œã¦ï¼‰â€¦â€¦ã‚ˆã£ã€‚å…ƒæ°—ï¼Ÿã€", reactions: { "åŒèª¿": "ã€Œæ¿€ãƒ¬ã‚¢ãƒ¢ãƒ³ã‚¹ã‚¿ãƒ¼ã«é­é‡ï¼é‹æ°—ã‚¢ãƒƒãƒ—ã§ã™ãªï¼ã€", "è«–ç†": "ã€Œå‡ºç¾ç‡0.01%ã®å€‹ä½“ã‚’ç¢ºèªã€‚è¨˜éŒ²ã—ã¾ã™ã€‚ã€", "è¤’ã‚": "ã€Œç¾ã‚Œã‚‹ã ã‘ã§ä¾¡å€¤ãŒã‚ã‚‹ã€‚ã‚‚ã¯ã‚„ä¼èª¬ï¼ã€", "è„±å‡º": "ã€Œæ¶ˆãˆã‚‹å‰ã«ã‚·ãƒ£ãƒƒã‚¿ãƒ¼ã‚’åˆ‡ã‚‹ï¼ã€" }},

        // --- é€šä¿¡OSç³» ---
        "è¦ç´„ç¦æ­¢": { base: "ã€Œãã‚Œã§ã­ã€æ˜¨æ—¥ã‚ãã“ã«è¡Œã£ãŸæ™‚ã«ã‚ã‚“ãªã“ã¨ãŒã‚ã£ã¦ã€ã‚ã€ãã†ã„ãˆã°â€¦ï¼ˆç„¡é™ãƒ«ãƒ¼ãƒ—ï¼‰ã€", reactions: { "åŒèª¿": "ã€Œæƒ…å ±é‡ãŒè±Šå¯Œã§åŠ©ã‹ã‚Šã¾ã™ãªï¼ã€", "è«–ç†": "ã€Œãˆãƒ¼ã£ã¨ã€çµè«–ã®ãƒ‘ã‚±ãƒƒãƒˆã¯ã©ã“ã«ã‚ã‚Šã¾ã™ã‹ãªï¼Ÿã€", "è¤’ã‚": "ã€Œãã®è©±è¡“ã€è½èªå®¶ãƒ¬ãƒ™ãƒ«ã§ã™ãï¼ã€", "è„±å‡º": "ã€Œç¶šãã¯ã‚¯ãƒ©ã‚¦ãƒ‰ï¼ˆä»Šåº¦ï¼‰ã§ï¼ã€" }},
        "éŸ³é‡ãƒã‚°": { base: "ã€ŒãŠç–²ã‚Œæ§˜ã§ã™ï¼ï¼ï¼ˆé¼“è†œãŒéœ‡ãˆã‚‹å¤§éŸ³é‡ï¼‰ã€", reactions: { "åŒèª¿": "ã€Œå…ƒæ°—ãªOSã¯æœ€é«˜ã§ã™ãªï¼ã€", "è«–ç†": "ã€ŒéŸ³é‡ã‚’30%ã‚«ãƒƒãƒˆã—ã¦é€šä¿¡ã—ã¾ã—ã‚‡ã†ã€‚ã€", "è¤’ã‚": "ã€Œæ‹¡å£°å™¨ã„ã‚‰ãšã®ç´ æ™´ã‚‰ã—ã„å–‰ã§ã™ãï¼ã€", "è„±å‡º": "ã€Œè€³ã®å†èµ·å‹•ãŒå¿…è¦ãªã®ã§å¤±ç¤¼ï¼ã€" }},
        "ä¸»èªå–ªå¤±": { base: "ã€Œã‚ã‚ŒãŒã“ã†ãªã£ãŸã‹ã‚‰ã€ãã‚Œã—ã¨ã„ã¦ï¼ã€", reactions: { "åŒèª¿": "ã€Œå¯Ÿã—ã‚¨ãƒ³ã‚¸ãƒ³ã€ãƒ•ãƒ«ç¨¼åƒã§ã™ãï¼ã€", "è«–ç†": "ã€Œã€ãã‚Œã€ã®å®šç¾©ã‚’æ•™ãˆã¦ãã‚ŒãŸã¾ãˆã€‚ã€", "è¤’ã‚": "ã€Œè¶…é«˜åº¦ãªæš—å·é€šä¿¡ã§ã™ãªã€æµçŸ³ï¼ã€", "è„±å‡º": "ã€Œã‚ã‚Œã‚’ç¢ºèªã—ã«ç¾å ´ã¸æ€¥è¡Œï¼ã€" }},
        "è©±æ³¥æ£’": { base: "ã€Œã‚ã€ãã‚Œã‚ã‹ã‚‹ï¼ç§ã‚‚ã•ã€ã“ã®å‰â€¦ï¼ˆè‡ªåˆ†ã®è©±ã«å¥ªå–ï¼‰ã€", reactions: { "åŒèª¿": "ã€ŒæµçŸ³ã€å¤šè¶£å‘³ã§ã™ãªï¼ã€", "è«–ç†": "ã€Œé€šä¿¡å›ç·šãŒæ··ä¿¡ã—ã¦ãŠã‚Šã¾ã™ãã€‚ã€", "è¤’ã‚": "ã€Œã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰ã®å¼•ãå‡ºã—ãŒçˆ†ç™ºã—ã¦ã¾ã™ãªï¼ã€", "è„±å‡º": "ã€Œãã®è©±ã€ã¾ãŸä»Šåº¦ã‚†ã£ãã‚Šï¼ã€" }},
        "æ—¢èª­ã‚¹ãƒ«ãƒ¼ä»•æ§˜": { base: "ã€Œï¼ˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ã£ã¦3æ—¥å¾Œï¼‰â€¦â€¦ã‚ã€è¦‹ã¦ãŸã‚ˆã€‚ã§ã€ä½•ã ã£ã‘ï¼Ÿã€", reactions: { "åŒèª¿": "ã€Œç¢ºèªæ¸ˆã¿ãƒ­ã‚°ãŒå–ã‚Œã‚Œã°ååˆ†ã§ã™ãªï¼ã€", "è«–ç†": "ã€Œé€šä¿¡ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã®å¿œç­”é€Ÿåº¦ãŒ0.001bpsã§ã™ãã€‚ã€", "è¤’ã‚": "ã€Œæƒ…å ±ã®ç†ŸæˆæœŸé–“ãŒé•·ã„ï¼æµçŸ³ã§ã™ãªï¼ã€", "è„±å‡º": "ã€Œå†é€ãƒ‘ã‚±ãƒƒãƒˆã‚’é€ã£ã¦ãŠãã¾ã™ï¼ã€" }},
        "ã‚ªã‚¦ãƒ è¿”ã—": { base: "ã€Œãˆã€æ˜¨æ—¥å¤§å¤‰ã ã£ãŸã®ï¼Ÿã€ã€Œãã†ã€æ˜¨æ—¥å¤§å¤‰ã ã£ãŸã®ã€‚ã€", reactions: { "åŒèª¿": "ã€ŒãƒŸãƒ©ãƒ¼ãƒªãƒ³ã‚°é€šä¿¡ã€å®Œç’§ã§ã™ãªï¼ã€", "è«–ç†": "ã€ŒåéŸ¿éŸ³ï¼ˆã‚¨ã‚³ãƒ¼ï¼‰ãŒæ¿€ã—ã„ã§ã™ãã€‚ã€", "è¤’ã‚": "ã€Œç§ã®è¨€è‘‰ã‚’å…¨ã‚³ãƒ”ãƒ¼ã™ã‚‹ã¨ã¯ã€å…‰æ „ã§ã™ãªï¼ã€", "è„±å‡º": "ã€Œã‚¨ã‚³ãƒ¼ã‚­ãƒ£ãƒ³ã‚»ãƒ©ãƒ¼ã‚’èµ·å‹•ï¼ã€" }},
        "é å›ã—ãƒ—ãƒ­ãƒˆã‚³ãƒ«": { base: "ã€Œåˆ¥ã«ã„ã„ã‚“ã ã‘ã©ã•ã€æ™®é€šã¯ã‚ã‚ã„ã†ã“ã¨ã—ãªã„ã‚ˆã­ã‡â€¦â€¦ï¼ˆãƒãƒ©ãƒƒï¼‰ã€", reactions: { "åŒèª¿": "ã€Œè¡Œé–“ã‚’èª­ã‚€æ¼”ç®—ãƒªã‚½ãƒ¼ã‚¹ã‚’å…¨æŠ•å…¥ã—ã¾ã™ãªï¼ã€", "è«–ç†": "ã€Œã€æ™®é€šã€ã®å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é€ä¿¡ã—ã¦ãã ã•ã„ã€‚ã€", "è¤’ã‚": "ã€Œæ–‡å­¦çš„ãªæš—å·é€šä¿¡ã€ã—ã³ã‚Œã¾ã™ãªï¼ã€", "è„±å‡º": "ã€Œæœ¬éŸ³ã‚’æ¢ã—ã«æ·±å±¤ã¸ï¼ã€" }},

        // --- å‹•ä½œOSç³» ---
        "ç©ºè…¹æš´èµ°": { base: "ã€Œï¼ˆç„¡è¨€ã§ä¸æ©Ÿå«Œï¼‰â€¦â€¦ãŠè…¹ç©ºã„ãŸã€‚ã¾ã çµ‚ã‚ã‚‰ãªã„ã®ï¼Ÿã€", reactions: { "åŒèª¿": "ã€Œç‡ƒæ–™åˆ‡ã‚Œã¯æ·±åˆ»ãªã‚¨ãƒ©ãƒ¼ã§ã™ãªï¼ã€", "è«–ç†": "ã€Œç©ºè…¹ã¯è«–ç†çš„åˆ¤æ–­ã‚’ç‹‚ã‚ã›ã¾ã™ãã€‚ã€", "è¤’ã‚": "ã€Œç©ºè…¹ã§ã‚‚ãã®è¿«åŠ›ã€æµçŸ³ã§ã™ãï¼ã€", "è„±å‡º": "ã€ŒãŠã«ãã‚Šï¼ˆç‡ƒæ–™ï¼‰ã‚’è²·ã£ã¦ãã¾ã™ï¼ã€" }},
        "å¤œè¡Œæ€§": { base: "ã€Œï¼ˆåˆå‰10æ™‚ï¼‰â€¦â€¦çœ ã„ã€‚ã‚·ã‚¹ãƒ†ãƒ ã€ã‚¹ãƒªãƒ¼ãƒ—ä¸­â€¦â€¦ã€", reactions: { "åŒèª¿": "ã€Œæœˆå…‰é§†å‹•å‹ã«ã¯éé…·ãªæ™‚é–“ã§ã™ãªã€‚ã€", "è«–ç†": "ã€Œåˆå¾Œ8æ™‚ä»¥é™ã«å†æ¥ç¶šã‚’è©¦ã¿ã¾ã™ã€‚ã€", "è¤’ã‚": "ã€Œã‚¹ãƒªãƒ¼ãƒ—ä¸­ã®å¯é¡”ã‚‚èŠ¸è¡“çš„ã§ã™ãï¼ã€", "è„±å‡º": "ã€Œæ—¥ã®å…¥ã‚Šã¾ã§å¾…æ©Ÿï¼ã€" }},
        "ã›ã£ã‹ã¡": { base: "ã€Œã¾ã ï¼Ÿã¾ã çµ‚ã‚ã‚‰ãªã„ã®ï¼Ÿæ—©ãã—ã¦ã‚ˆï¼ã€", reactions: { "åŒèª¿": "ã€Œã‚¯ãƒ­ãƒƒã‚¯å‘¨æ³¢æ•°ãŒé«˜ã™ãã§ã™ãªï¼ã€", "è«–ç†": "ã€Œã“ã®å‡¦ç†ã«ã¯ç‰©ç†çš„ãªæ™‚é–“ãŒå¿…è¦ã§ã™ãã€‚ã€", "è¤’ã‚": "ã€Œãã®å‡¦ç†é€Ÿåº¦ã€æœ€æ–°CPUä¸¦ã¿ã§ã™ãªï¼ã€", "è„±å‡º": "ã€Œå…‰é€Ÿã§ç‰‡ä»˜ã‘ã¦ãã¾ã™ï¼ã€" }},
        "æ–¹å‘éŸ³ç—´OS": { base: "ã€Œå³ã£ã¦è¨€ã£ãŸã˜ã‚ƒãªã„ï¼ï¼ˆâ€»æœ¬äººã¯å·¦ã‚’æŒ‡ã—ã¦ã„ã‚‹ï¼‰ã€", reactions: { "åŒèª¿": "ã€Œç‹¬è‡ªã®åœ°å›³ãƒ‡ãƒ¼ã‚¿ã‚’ãŠæŒã¡ã§ã™ãªï¼ã€", "è«–ç†": "ã€ŒGPSï¼ˆGoogle Mapï¼‰ã«å…¨ã¦ã‚’è¨—ã—ã¾ã—ã‚‡ã†ã€‚ã€", "è¤’ã‚": "ã€ŒæœªçŸ¥ã®èˆªè·¯ã‚’åˆ‡ã‚Šæ‹“ãé–‹æ‹“è€…ã§ã™ãï¼ã€", "è„±å‡º": "ã€Œä¸€æ—¦ãƒ™ãƒ¼ã‚¹ã‚­ãƒ£ãƒ³ãƒ—ã«æˆ»ã‚Šã¾ã—ã‚‡ã†ã€‚ã€" }},
        "ãƒ«ãƒ¼ãƒãƒ³å›ºåŸ·": { base: "ã€Œã“ã®æ™‚é–“ã¯ã‚³ãƒ¼ãƒ’ãƒ¼ã‚’é£²ã‚€æ±ºã¾ã‚Šãªã®ï¼è©±ã—ã‹ã‘ãªã„ã§ï¼ã€", reactions: { "åŒèª¿": "ã€Œé‰„å£ã®ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ç®¡ç†ã§ã™ãªï¼ã€", "è«–ç†": "ã€Œãƒ«ãƒ¼ãƒãƒ³ã®å‰²ã‚Šè¾¼ã¿å‡¦ç†ã¯ç¦æ­¢äº‹é …ã§ã—ãŸãªã€‚ã€", "è¤’ã‚": "ã€Œç²¾å¯†æ™‚è¨ˆã®ã‚ˆã†ãªæ­£ç¢ºã•ã€æµçŸ³ã§ã™ãï¼ã€", "è„±å‡º": "ã€Œæ¬¡ã®ã‚¹ãƒ­ãƒƒãƒˆã¾ã§å¾…æ©Ÿï¼ã€" }},
        "æ¢ã—ç‰©ãƒã‚°": { base: "ã€Œãªã„ï¼ãªã„ï¼ã‚¹ãƒãƒ›ãŒãªã„ï¼ï¼ˆâ€»æ‰‹ã«æŒã£ã¦ã„ã‚‹ï¼‰ã€", reactions: { "åŒèª¿": "ã€Œè¦–è¦šã‚»ãƒ³ã‚µãƒ¼ã®ç›²ç‚¹ã«å…¥ã‚Šã¾ã—ãŸãªï¼ã€", "è«–ç†": "ã€Œå³æ‰‹ã®é‡é‡ã‚»ãƒ³ã‚µãƒ¼ã‚’ç¢ºèªã—ãŸã¾ãˆã€‚ã€", "è¤’ã‚": "ã€Œç¯å°ä¸‹æš—ã—ã‚’ä½“ç¾ã™ã‚‹ã€ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ†ã‚¤ãƒŠãƒ¼ï¼ã€", "è„±å‡º": "ã€Œæœç´¢éšŠã‚’ç·¨æˆã—ã¾ã™ï¼ã€" }},
        "ã‚®ãƒªã‚®ãƒªé§†å‹•": { base: "ã€Œï¼ˆç· åˆ‡10åˆ†å‰ï¼‰ã‚ˆã—ã€ä»Šã‹ã‚‰ã‚„ã‚‹ã‹â€¦â€¦ã“ã“ã‹ã‚‰ãŒæœ¬ç•ªã ã‚ˆã€‚ã€", reactions: { "åŒèª¿": "ã€Œãƒ–ãƒ¼ã‚¹ãƒˆãƒ¢ãƒ¼ãƒ‰ã®ç«åŠ›ãŒå‡„ã¾ã˜ã„ã§ã™ãªï¼ã€", "è«–ç†": "ã€Œãƒãƒƒãƒ•ã‚¡æ™‚é–“ãŒãƒã‚¤ãƒŠã‚¹ã«çªå…¥ã—ã¦ã„ã¾ã™ãã€‚ã€", "è¤’ã‚": "ã€Œå´–ã£ã·ã¡ã§è¼ãã€é‡ç”Ÿã®ãƒ—ãƒ­ã‚»ãƒƒã‚µï¼ã€", "è„±å‡º": "ã€Œçˆ†ç™ºï¼ˆç´å“ï¼‰ã‚’è¦‹å±Šã‘ã¾ã™ï¼ã€" }},

        // --- æ„Ÿæƒ…OSç³» ---
        "è±†è…ãƒ¡ãƒ³ã‚¿ãƒ«": { base: "ã€Œã‚ã€ç§ã®ã›ã„ã§ç©ºæ°—ãŒæ‚ªããªã£ãŸã‹ã‚‚â€¦â€¦ï¼ˆæ³£ï¼‰ã€", reactions: { "åŒèª¿": "ã€Œç¹Šç´°ãªã‚»ãƒ³ã‚µãƒ¼ã‚’ãŠæŒã¡ã§ã™ãªã€‚ã€", "è«–ç†": "ã€Œã“ã®ç¾è±¡ã¯çµ±è¨ˆçš„ã«å›ã®ã›ã„ã§ã¯ãªã„ã€‚ã€", "è¤’ã‚": "ã€Œãã®æ„Ÿå—æ€§ã€é«˜è§£åƒåº¦ãƒ¢ãƒ‹ã‚¿ãƒ¼ã§ã™ãï¼ã€", "è„±å‡º": "ã€Œç©ºæ°—ã‚’å…¥ã‚Œæ›¿ãˆï¼ˆçª“é–‹ã‘ï¼‰ã—ã¦ãã¾ã™ï¼ã€" }},
        "å«‰å¦¬ã‚»ãƒ³ã‚µãƒ¼": { base: "ã€Œã„ã„ã‚ˆã­ã€å›ã¯ã„ã¤ã‚‚è©•ä¾¡ã•ã‚Œã¦ã¦â€¦â€¦ã€", reactions: { "åŒèª¿": "ã€Œå›ã®è‹¦åŠ´ã‚‚ã‚ˆãè¦‹ãˆã¦ãŠã‚Šã¾ã™ãã€‚ã€", "è«–ç†": "ã€Œè©•ä¾¡ã¯ç›¸å¯¾çš„ãªãƒ‡ãƒ¼ã‚¿ã«éãã¾ã›ã‚“ã€‚ã€", "è¤’ã‚": "ã€Œå›ã®éš ã‚ŒãŸåŠŸç¸¾ã€ãƒ¯ã‚¿ã‚¯ã‚·ãŒèªã‚ã‚ˆã†ï¼ã€", "è„±å‡º": "ã€Œæ¬¡ã®ãƒŸãƒƒã‚·ãƒ§ãƒ³ãŒå‘¼ã‚“ã§ã„ã‚‹ï¼ã€" }},
        "å†·ç¬‘ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼": { base: "ã€Œãƒ•ãƒƒã€ãã‚“ãªã“ã¨ã—ã¦ä½•ã®æ„å‘³ãŒã‚ã‚‹ã®ï¼Ÿã€", reactions: { "åŒèª¿": "ã€Œå†·é™ãªåˆ†æã€æµçŸ³ã§ã™ãªã€‚ã€", "è«–ç†": "ã€Œæ„å‘³ã®æœ‰ç„¡ã‚’æ¼”ç®—ã™ã‚‹ã®ãŒè¶£å‘³ã§ã—ã¦ã€‚ã€", "è¤’ã‚": "ã€Œãã®æ°·ã®ã‚ˆã†ãªè¦–ç‚¹ã€ã‚¯ãƒ¼ãƒ«ã§ã™ãï¼ã€", "è„±å‡º": "ã€Œæ„å‘³ã‚’æ¢ã—ã«å®‡å®™ã¸ï¼ã€" }},
        "è¤’ã‚æ®ºã—å¼±ç‚¹": { base: "ã€Œãˆã£ã€ç§ã®ãƒ—ãƒ¬ã‚¼ãƒ³è‰¯ã‹ã£ãŸï¼Ÿ ãã‚“ãªã€å¤©æ‰ã ãªã‚“ã¦å›°ã‚‹ãªãã€œï¼ˆãƒ‹ãƒ¤ãƒ‹ãƒ¤ï¼‰ã€", reactions: { "åŒèª¿": "ã€Œç§°è³›ãƒ‘ã‚±ãƒƒãƒˆã‚’ã•ã‚‰ã«100å€ã§é€ä¿¡ï¼ã€", "è«–ç†": "ã€Œäº‹å®Ÿã‚’è¿°ã¹ãŸã¾ã§ã€‚èª¿å­ã«ä¹—ã‚‹ã®ã‚‚æ¼”ç®—å†…ã§ã™ã€‚ã€", "è¤’ã‚": "ã€Œå®‡å®™ä¸€ï¼éŠ€æ²³ä¸€ï¼ã„ã‚„ã€æ¦‚å¿µä¸€ã§ã™ãªï¼ã€", "è„±å‡º": "ã€Œæ¬¡ã®ç§°è³›å¯¾è±¡ã‚’æ¢ã—ã«ï¼ã€" }},
        "é‹¼é‰„ã®æ„å¿—": { base: "ã€Œãƒ€ãƒ¡ãªã‚‚ã®ã¯ãƒ€ãƒ¡ã€‚ä½•ã¨è¨€ã‚ã‚Œã¦ã‚‚ç§ã®è¨­å®šã¯å¤‰ãˆãªã„ã€‚ã€", reactions: { "åŒèª¿": "ã€Œèª­ã¿å–ã‚Šå°‚ç”¨ï¼ˆRead Onlyï¼‰å±æ€§ã€æµçŸ³ã§ã™ãªï¼ã€", "è«–ç†": "ã€Œä»•æ§˜å¤‰æ›´ã®ãƒ‘ãƒƒãƒã¯å—ã‘ä»˜ã‘ã‚‰ã‚Œã¾ã›ã‚“ã‹ã€‚ã€", "è¤’ã‚": "ã€Œãã®é ‘å›ºã•ã€ãƒ€ã‚¤ãƒ¤ãƒ¢ãƒ³ãƒ‰ä¸¦ã¿ã®ç¡¬åº¦ï¼ã€", "è„±å‡º": "ã€Œåˆ¥ã®ãƒ«ãƒ¼ãƒˆã‚’æ¤œç´¢é–‹å§‹ï¼ã€" }},
        "å¯‚ã—ãŒã‚Šå±‹": { base: "ã€Œã­ã‡ã€ä»Šä½•ã—ã¦ã‚‹ã®ï¼Ÿ è¿”ä¿¡ã¾ã ï¼Ÿ ãšã£ã¨å¾…ã£ã¦ã‚‹ã‚“ã ã‘ã©â€¦â€¦ã€", reactions: { "åŒèª¿": "ã€Œå¸¸æ™‚æ¥ç¶šï¼ˆã‚ªãƒ³ãƒ©ã‚¤ãƒ³ï¼‰ã“ããŒæ­£ç¾©ã§ã™ãªï¼ã€", "è«–ç†": "ã€Œä»–å€‹ä½“ã¸ã®ä¾å­˜ãƒªã‚½ãƒ¼ã‚¹ãŒ80%ã‚’è¶…ãˆã¦ã„ã¾ã™ã€‚ã€", "è¤’ã‚": "ã€Œæ„›ã‚’æ±‚ã‚ã‚‹é«˜æ„Ÿåº¦ã‚¢ãƒ³ãƒ†ãƒŠã€ç´ æ™´ã‚‰ã—ã„ï¼ã€", "è„±å‡º": "ã€Œæ„›ã®ãƒ‘ã‚±ãƒƒãƒˆã‚’æŠ•ä¸‹ã—ã¦é›¢è„±ï¼ã€" }},

        // --- ç¤¾ä¼šOSç³» ---
        "å¿–åº¦ã‚¼ãƒ­": { base: "ã€Œãã®ãƒã‚¯ã‚¿ã‚¤ã€å…¨ç„¶ä¼¼åˆã£ã¦ã¾ã›ã‚“ã­ã€‚ã€", reactions: { "åŒèª¿": "ã€Œã‚¹ãƒˆãƒ¬ãƒ¼ãƒˆãªãƒ‘ã‚±ãƒƒãƒˆã€æ½”ã„ã§ã™ãªï¼ã€", "è«–ç†": "ã€Œè‰²å½©å¿ƒç†å­¦çš„ã«ã¯æ­£ã—ã„é¸æŠã§ã™ã‚ˆã€‚ã€", "è¤’ã‚": "ã€Œå¿–åº¦ã‚’æŠ¹æ¶ˆã—ãŸçœŸå®Ÿã®ç³ã§ã™ãªï¼ã€", "è„±å‡º": "ã€Œç€æ›¿ãˆã¦å†èµ·å‹•ã—ã¦ãã¾ã™ï¼ã€" }},
        "ç§˜å¯†ä¿æŒã‚¨ãƒ©ãƒ¼": { base: "ã€Œã“ã“ã ã‘ã®è©±ãªã‚“ã ã‘ã©â€¦â€¦ï¼ˆå…¨å“¡ã«èã“ãˆã‚‹å£°ï¼‰ã€", reactions: { "åŒèª¿": "ã€Œæƒ…å ±ã®ã‚ªãƒ¼ãƒ—ãƒ³ã‚¢ã‚¯ã‚»ã‚¹åŒ–ã§ã™ãªï¼ã€", "è«–ç†": "ã€Œæƒ…å ±ã®ç§˜åŒ¿æ€§ãŒ0%ã«ä½ä¸‹ã—ã¾ã—ãŸã€‚ã€", "è¤’ã‚": "ã€Œé©šç•°ã®æ‹¡æ•£ã‚¹ãƒ”ãƒ¼ãƒ‰ã€ã‚‚ã¯ã‚„SNSï¼ã€", "è„±å‡º": "ã€Œãƒ‡ãƒ¼ã‚¿ã®æš—å·åŒ–ï¼ˆæ²ˆé»™ï¼‰ã‚’é–‹å§‹ï¼ã€" }},
        "ãŠç¯€ä»‹ãƒ—ãƒ­ã‚°ãƒ©ãƒ ": { base: "ã€Œå›ã®ãŸã‚ã«ã“ã‚Œé ¼ã‚“ã©ã„ãŸã‚ˆï¼å¬‰ã—ã„ã§ã—ã‚‡ï¼Ÿã€", reactions: { "åŒèª¿": "ã€Œå¿ƒé£ã„ã€å…¨å—ä¿¡ã„ãŸã—ã¾ã—ãŸï¼ã€", "è«–ç†": "ã€Œç§ã®å¸Œæœ›ãƒ‘ã‚±ãƒƒãƒˆã¨ã¯ç›¸é•ãŒã‚ã‚Šã¾ã™ãªã€‚ã€", "è¤’ã‚": "ã€Œå…¨è‡ªå‹•ãŠä¸–è©±ãƒã‚·ãƒ³ä¸¦ã¿ã®æ°—é…ã‚Šï¼ã€", "è„±å‡º": "ã€Œè‡ªåˆ†ã§ã‚„ã‚‹å–œã³ï¼ˆãƒã‚°ï¼‰ã‚’ä½“é¨“ä¸­ï¼ã€" }},
        "å¿–åº¦ã‚¨ãƒ³ã‚¸ãƒ³": { base: "ã€Œçš†ã•ã‚“ãŒãã†ä»°ã‚‹ãªã‚‰ã€ç§ã‚‚ãã‚Œã§â€¦â€¦ï¼ˆè‡ªåˆ†ãŒãªã„ï¼‰ã€", reactions: { "åŒèª¿": "ã€Œå…¨ä½“ã¨ã®åŒæœŸã€ãŠè¦‹äº‹ã§ã™ãªï¼ã€", "è«–ç†": "ã€Œå›è‡ªèº«ã®å†…éƒ¨ãƒ­ã‚°ã¯ç©ºã£ã½ã§ã™ã‹ãªï¼Ÿã€", "è¤’ã‚": "ã€Œå‘¨å›²ã«æº¶ã‘è¾¼ã‚€å…‰å­¦è¿·å½©ã€æµçŸ³ã§ã™ï¼ã€", "è„±å‡º": "ã€Œæœ¬éŸ³ã®ãƒ‘ãƒƒãƒã‚’å½“ã¦ã«ï¼ã€" }},
        "ç©ºæ°—èª­ã¿ã™ã": { base: "ã€Œï¼ˆâ€¦â€¦ã‚ã€ä»Šç§ãŒå–‹ã‚‹ã¨ã¾ãšã„ã‹ãªï¼Ÿ ã©ã†ã—ã‚ˆã†ï¼‰ã€", reactions: { "åŒèª¿": "ã€Œã‚¹ã‚­ãƒ£ãƒ³ã®ã—ã™ãã§CPUãŒç†±ããªã£ã¦ã¾ã™ãï¼ã€", "è«–ç†": "ã€Œå‘¨å›²ã®é¡”è‰²ã¯ãŸã ã®å…‰ä¿¡å·ã«éãã¾ã›ã‚“ã€‚ã€", "è¤’ã‚": "ã€Œæ°—é£ã„ã®é­”è¡“å¸«ï¼ã‚‚ã¯ã‚„ã‚¨ã‚¹ãƒ‘ãƒ¼ï¼ã€", "è„±å‡º": "ã€Œæ–°é®®ãªç©ºæ°—ã‚’å¸ã„ã«ï¼ã€" }},
        "ãƒã‚¤ãƒšãƒ¼ã‚¹": { base: "ã€Œï¼ˆå…¨å“¡ãŒæ€¥ã„ã§ã„ã‚‹ä¸­ï¼‰ã‚ã€ç©ºãŒç¶ºéº—ã ãªã€œã€‚ãŠå›£å­é£Ÿã¹ãŸã„ã€‚ã€", reactions: { "åŒèª¿": "ã€Œç‹¬è‡ªã®å†…éƒ¨æ™‚è¨ˆã§é§†å‹•ä¸­ã€‚å¹³å’Œã§ã™ãªã€‚ã€", "è«–ç†": "ã€Œå‘¨å›²ã®ã‚¯ãƒ­ãƒƒã‚¯å‘¨æ³¢æ•°ã¨åŒæœŸã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿä¸­ã€‚ã€", "è¤’ã‚": "ã€Œä¸–ç•Œã‚’è‡ªåˆ†ã®è‰²ã«å¡—ã‚Šæ›¿ãˆã‚‹ã€ã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆï¼ã€", "è„±å‡º": "ã€Œãã®æ™‚é–“è»¸ã€ãŠå€Ÿã‚Šã—ã¾ã™ï¼ã€" }}
    }
};

// --- 2. ãƒ¡ã‚¤ãƒ³ãƒ­ã‚¸ãƒƒã‚¯ï¼ˆã“ã“ã‹ã‚‰ã¯ä»¥å‰ã¨åŒã˜ã§ã™ãŒã€ã‚«ãƒƒã‚³ã®æ•°ã«æ³¨æ„ï¼‰ ---
window.onload = () => {
    const collections = JSON.parse(localStorage.getItem('gth_collections') || '[]');
    const lastEntry = collections[0];

    if (lastEntry) {
        const mainTag = lastEntry.tag.split(' / ')[0];
        document.getElementById('target-name').textContent = `å€‹ä½“ï¼š${lastEntry.nickname}`;
        document.getElementById('target-tags').textContent = lastEntry.tag;

        const chatBox = document.getElementById('chat-box');
        const pattern = simulationEngine.patterns[mainTag] || simulationEngine.patterns["å¤©ç„¶"];
        
        const initialMsg = chatBox.querySelector('.flex.items-start.gap-2');
        if (initialMsg) {
            initialMsg.querySelector('.bubble-left').textContent = pattern.base;
        }
    }
};

function sendReply(type, commandName) {
    const chatBox = document.getElementById('chat-box');
    renderMessage("me", `[${commandName}] ã‚’å®Ÿè¡Œä¸­...`);

    const collections = JSON.parse(localStorage.getItem('gth_collections') || '[]');
    const lastEntry = collections[0];
    const mainTag = lastEntry ? lastEntry.tag.split(' / ')[0] : "å¤©ç„¶";

    const pattern = simulationEngine.patterns[mainTag] || simulationEngine.patterns["å¤©ç„¶"];
    const responseText = pattern.reactions[type];

    setTimeout(() => {
        renderMessage("target", responseText);
        setTimeout(() => {
            const analysis = document.createElement('div');
            analysis.className = "text-[9px] text-center text-emerald-500/50 italic py-2 animate-fade-in";
            analysis.textContent = `>>> [LOG] ${mainTag}ã«${commandName}ã‚’æ¤œçŸ¥ã€‚ç²¾ç¥çš„å„ªä½ã‚’ç¢ºä¿ã—ã¾ã—ãŸã€‚`;
            chatBox.appendChild(analysis);
            chatBox.scrollTop = chatBox.scrollHeight;
        }, 500);
    }, 1000);
}

function renderMessage(sender, text) {
    const chatBox = document.getElementById('chat-box');
    const msg = document.createElement('div');
    if (sender === "me") {
        msg.className = "flex justify-end animate-fade-in";
        msg.innerHTML = `<div class="bubble-right p-3 text-sm max-w-[80%] text-white shadow-lg">${text}</div>`;
    } else {
        msg.className = "flex items-start gap-2 animate-bounce-in";
        msg.innerHTML = `
            <div class="w-8 h-8 rounded-full bg-gray-700 flex-shrink-0 flex items-center justify-center text-sm">ğŸ‘¤</div>
            <div class="bubble-left p-3 text-sm max-w-[80%] shadow-lg">${text}</div>
        `;
    }
    chatBox.appendChild(msg);
    chatBox.scrollTop = chatBox.scrollHeight;
}
</script>
</body>
</html>